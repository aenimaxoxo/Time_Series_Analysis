---
title: "Ch2 | Time Series Graphics"
author: "Michael Rose"
date: "October 27, 2018"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(fpp2)
library(tidyverse)
ggplot2::theme_set(theme_gray())
```

# 2.1 | ts Objects

```{r}
# create a time series object
y <- ts(c(123, 39, 78, 52, 110), start = 2012)

# for observations more frequent than yearly, we can use the frequency argument 

# generate some data
vec_length <- 15*12
z <- vector(mode = "numeric", length = vec_length)

for (i in seq_along(z)){
  z[i] <- rnorm(1, mean = 0, sd = 1)
}

# create a monthly data table as a ts object
y <- ts(z, start = 2003, frequency = 12)
```

# 2.2 | Time Plots 

```{r}

# plot economy class passengers in melbourne-sydney flights
autoplot(melsyd[, "Economy.Class"]) + 
  ggtitle("Economy Class Passengers: Melbourne-Sydney") + 
  xlab("Year") + ylab("Thousands")

# antidiabetic drug sales 
autoplot(a10) + 
  ggtitle("Antidiabetic Drug Sales") + 
  ylab("$ Million") + xlab("Year") + 
  theme_gray()

```


# 2.3 | Time Series Patterns 

## Trend
A _trend_ exists when there is a long term increase or decrease in the data. It does not have to be linear. 

## Seasonal 
A _seasonal_ pattern occurs when a time series is affected by seasonal factors such as the time of the year or day of the week. Seasonality is always of a fixed and known frequency. 

## Cyclic

A _cycle_ occurs when the data exhibit rises and falls that are not of a fixed frequency. These fluctuations are usually due to economic conditions, and are often related to the business cycle. 


# 2.4 | Seasonal Plots 

```{r}
ggseasonplot(a10, year.labels = TRUE, year.labels.left = TRUE) + 
  ylab("$ million") + 
  ggtitle("Seasonal Plot: Antidiabetic Drug Sales")
```

```{r}
ggseasonplot(a10, polar=TRUE) + 
  ylab("$ Million") +
  ggtitle("Polar Seasonal Plot: Antidiabetic Drug Sales")
```

